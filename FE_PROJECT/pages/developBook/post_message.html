<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>消息发送端</title>
</head>

<body>
    <script>
        ;
        (function() {
            // 模拟数据
            var messages = ['今天天气不错',
                '明天的会议大家不要迟到',
                '今晚大家去吃一顿好的',
                '打车记得拿发票',
                '明天请假一天',
                '234567890'
            ];
            // 随机获取msg信息，真实环境从服务起获取
            var getMessage = function() {
                var index = Math.floor(Math.random() * 10);
                return messages[index] || null;
            };
            var postMsgLoop = function() {
                var randomTime = Math.floor(Math.random() * 10000);
                setTimeout(() => {
                    var message = getMessage();
                }, randomTime);
            }
        }());
    </script>
</body>

</html>